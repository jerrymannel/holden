<div class="container-fluid">
	<div class="row">
		<div class="col fs-4">
			<i class="bi bi-person-badge "></i>
			<span> Users</span>
			<hr>
		</div>
	</div>

	<div class="d-flex flex-row justify-content-center gap-3">
		<div class="col-2">
			<div class="d-grid gap-2">
				<button class="btn btn-success mb-2" (click)="selectedUser = null; username = null; password = null;">Add
					user</button>
			</div>
			<div class="my-2 text-danger text-center" *ngIf="error">
				<small>{{error}}</small>
			</div>
			<div class="list-group">
				<div class="list-group-item fakeLink" *ngFor="let user of users"
					[ngClass]="{'selected': selectedUser?._id == user._id}" (click)="selectUser(user)">
					{{user._id}}
					<button class="btn btn-outline-danger btn-sm float-end" *ngIf="user._id !== 'admin'"
						(click)="deleteUser(user)"><i class="bi bi-trash2-fill"></i></button>
				</div>
			</div>
		</div>
		<div class="col-3">
			<div class="card">
				<div class="card-header" *ngIf="selectedUser">Update password</div>
				<div class="card-header bg-dark text-light" *ngIf="!selectedUser">Add user</div>
				<div class="card-body">
					<div class="mb-3">
						<label for="username" class="form-label">Username</label>
						<input type="text" class="form-control" id="username" placeholder="username" [(ngModel)]="username"
							[disabled]="selectedUser">
					</div>
					<div class="mb-3">
						<label for="password" class="form-label" *ngIf="!selectedUser">Password</label>
						<label for="password" class="form-label" *ngIf="selectedUser">Update password</label>
						<input type="password" class="form-control" id="password" placeholder="password" [(ngModel)]="password">
					</div>
					<div class="mb-3">
						<div class="d-grid gap-2 col-6 mx-auto">
							<button class="btn btn-primary" (click)="updatePassword()" *ngIf="selectedUser">Update</button>
							<button class="btn btn-primary" (click)="addUser()" *ngIf="!selectedUser">Add</button>
						</div>
					</div>
					<div class="mb-3 text-danger text-center" *ngIf="errorAddUpdate">
						<small>{{errorAddUpdate}}</small>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>